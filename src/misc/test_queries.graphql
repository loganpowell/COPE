# Example of using introspection to get enum values

# shift-option/alt-click on a query below to jump to it in the explorer
# option/alt-click on a field in the explorer to select all subfields
query nodeEnums {
  __type(name: "NodeType"){
    name
    enumValues(includeDeprecated:true){
      name
      description      
      isDeprecated     
      deprecationReason
    }
  }
}
fragment resource on Resource {
  id
  type
  node_id
	name
  content
}

fragment node on Node {
  id
  status
  type
  createdAt
  owner
  resources_public{
    items{
      ...resource
    }
  }
  resources_draft{
    items {
      ...resource
    }
  }
  edges{
    items{
      id
      edge_id
      node_id
      edge{
        id
        type
        weight
      }
    }
  }
}

query listNodes {
  listNodes {
    items {
      ...node
    }
  }
}

query listEdges {
  listEdges {
    items{
      id
      type
      weight
      owner
      Nodes{
        items{
          id
          edge_id
          node_id
          node{
            ...node
          }
        }
      }
    }
  }
}

query listResourcesPublic{
  listResourcePublics{
    items{
      id
      node_id
      type
      name
    }
  }
}

mutation createNode {
  createNode(input:{
    id:1,
    type:H_AUTHOR_PAGE,
    status:PROVISIONAL,
  }){
    id
    type
    status
    updatedAt
    createdAt
  }
}

mutation createResourceDraft {
  createResourceDraft(input:{
    id:2
    node_id:1
    type:A_IMAGE
    name:"this is a anothah boogah"
    content:"so you're saying we can't just..."
  }){
    id
    updatedAt
  }
}

mutation createResourcePublic {
  createResourcePublic(input:{
    id:1
    node_id:1
    type:A_IMAGE
    name:"public resource name"
    content:"once upon a midnight, dreary"
  }){
    id
    updatedAt
  }
}